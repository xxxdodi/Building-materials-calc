<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор строительных материалов | Учебная практика</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="page">
    <div class="app">
        <header class="header">
            <div class="header-icon">
                <i class="fas fa-calculator"></i>
            </div>
            <h1>Калькулятор строительных материалов</h1>
            <p>Интеллектуальная система расчета для ремонтно-строительных работ</p>
            <div class="version">v2.0 | Учебный проект</div>
        </header>

        <section class="materials">
            <div class="material active" data-type="tile">
                <div class="material-icon"><i class="fas fa-th"></i></div>
                <img src="img/1.jpg" alt="Плитка" onerror="this.style.display='none'">
                <span>Керамическая плитка</span>
                <small>Поштучный расчет</small>
            </div>
            <div class="material" data-type="laminate">
                <div class="material-icon"><i class="fas fa-layer-group"></i></div>
                <img src="img/2.jpg" alt="Ламинат" onerror="this.style.display='none'">
                <span>Ламинат</span>
                <small>Упаковки + запас</small>
            </div>
            <div class="material" data-type="wallpaper">
                <div class="material-icon"><i class="fas fa-scroll"></i></div>
                <img src="img/3.jpg" alt="Обои" onerror="this.style.display='none'">
                <span>Обои</span>
                <small>С учетом рисунка</small>
            </div>
            <div class="material" data-type="paint">
                <div class="material-icon"><i class="fas fa-fill-drip"></i></div>
                <img src="img/4.jpg" alt="Краска" onerror="this.style.display='none'">
                <span>Краска</span>
                <small>Расход л/м²</small>
            </div>
            <div class="material" data-type="plaster">
                <div class="material-icon"><i class="fas fa-trowel"></i></div>
                <img src="img/5.jpg" alt="Штукатурка" onerror="this.style.display='none'">
                <span>Штукатурка</span>
                <small>Толщина слоя</small>
            </div>
        </section>

        <div class="main-content">
            <section class="calculator-section">
                <div class="calc-header">
                    <h2 id="calcTitle">Расчет плитки</h2>
                    <div class="hint" id="calcHint">Введите размеры помещения и параметры плитки</div>
                </div>

                <div class="form-grid">
                    <div class="input-group">
                        <label><i class="fas fa-ruler-horizontal"></i> Длина помещения (м)</label>
                        <input type="number" id="length" step="0.01" min="0.1" placeholder="Например: 5.2">
                    </div>

                    <div class="input-group">
                        <label><i class="fas fa-ruler-horizontal"></i> Ширина помещения (м)</label>
                        <input type="number" id="width" step="0.01" min="0.1" placeholder="Например: 4.5">
                    </div>

                    <div id="dynamicFields" class="dynamic-fields">
                    </div>

                    <div class="openings-section">
                        <h3><i class="fas fa-door-open"></i> Вычитание проемов</h3>
                        <div id="openingsList">
                            <div class="opening-item" data-id="1">
                                <select class="opening-type">
                                    <option value="door">Дверь (2×0.9м)</option>
                                    <option value="window">Окно (1.5×1.2м)</option>
                                    <option value="custom">Произвольный</option>
                                </select>
                                <input type="number" class="opening-area" placeholder="м²" step="0.01" value="1.8" readonly>
                                <button class="btn-remove" onclick="removeOpening(this)"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                        <button class="btn-add" onclick="addOpening()"><i class="fas fa-plus"></i> Добавить проем</button>
                    </div>

                    <div class="input-group price-group">
                        <label><i class="fas fa-tag"></i> Цена за единицу (₽)</label>
                        <input type="number" id="price" step="0.01" min="0" placeholder="Цена">
                    </div>
                </div>

                <div class="actions">
                    <button id="calcBtn" class="btn-primary">
                        <i class="fas fa-calculator"></i> Рассчитать материалы
                    </button>
                    <button id="resetBtn" class="btn-secondary" onclick="resetForm()">
                        <i class="fas fa-redo"></i> Сбросить
                    </button>
                </div>

                <div id="resultContainer" class="result-container hidden">
                    <div class="result-header">
                        <h3>Результат расчета</h3>
                        <span class="timestamp" id="timestamp"></span>
                    </div>

                    <div class="result-cards">
                        <div class="result-card primary">
                            <div class="label">Общая стоимость</div>
                            <div class="value" id="totalCost">0 ₽</div>
                        </div>
                        <div class="result-card">
                            <div class="label">Площадь работ</div>
                            <div class="value" id="totalArea">0 м²</div>
                        </div>
                        <div class="result-card">
                            <div class="label">Количество</div>
                            <div class="value" id="totalQty">0</div>
                        </div>
                    </div>

                    <div class="calculation-details" id="details">
                    </div>

                    <div class="result-actions">
                        <button class="btn-save" onclick="saveCalculation()">
                            <i class="fas fa-save"></i> Сохранить в историю
                        </button>
                        <button class="btn-print" onclick="window.print()">
                            <i class="fas fa-print"></i> Печать
                        </button>
                    </div>
                </div>
            </section>

            <aside class="history-section">
                <h3><i class="fas fa-history"></i> История расчетов</h3>
                <div id="historyList" class="history-list">
                    <div class="empty-state">История пуста</div>
                </div>
                <button class="btn-clear" onclick="clearHistory()" id="clearHistoryBtn" style="display:none;">
                    Очистить историю
                </button>
            </aside>
        </div>

        <footer class="footer">
            <p>© 2026 Учебная практика | Разработано с использованием локальных вычислений</p>
        </footer>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
